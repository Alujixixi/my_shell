一.课程设计题目
  Shell编程

二.课程设计内容和要求
需写明组内成员的任务分工。

  张延冰：history命令，重定向机制，管道极致，修改整体代码结构


三. 软件系统设计
采用软件工程的思想方法进行设计。
若用面向数据流方法设计时，需给出数据流图、数据字典、软件结构图。
若用面向对象方法设计时，需给出对象模型、动态模型、功能模型，系统拓扑结构、所定义的类或函数的一览表。


四.算法设计
给出主要算法描述。

  History命令：首先创建一个.bash_history的文件，然后每当用户输入一个命令，就将输入命令时的时间戳还有命令存到.bash_history的文件中，当用户输入history n的时候，就为.bash_history文件中的命令进行编号并按顺序将n个命令进行输出。
  输入重定向：当输入的命令中含有“>”时，先用open()函数以可读可写的权限打开“>”后面的文件，然后关闭文件描述符1，用dup()函数将打开的文件描述符复制过来，让标准输出重定向到指定的文件中。
  管道机制：但输入的命令中含有“|”时，先将用户输入的命令分成两个命令，然后通过pipe()函数来构建管道的读写指针。简单地说就是，将第一个子进程的输出写到管道中，然后第二个子进程从管道中读入。


五.小结
1.课程设计中遇到的问题及解决办法。
(1)在实现切换目录的时候（即cd命令的实现），发现一切换完就会报错，打印的错误信息很少，比较难发现问题。最后我们是通过小组开会讨论，将代码回溯到了以前的版本，发现是实现了history功能后出现了问题，结果是因为一个不应该改变的常量改变了，修复了这个bug之后就好了。
2.课程设计还存在哪些问题。
(1)还有一些细节问题，比如特殊符号输入的时候，必须要左右都有一个空格，例如输出重定向的符号“>”，必须左右有空格才能识别出这是一个输出重定向的命令。
(2)代码封装的不够好，整体代码结构有待改进

3.本课程设计有哪些收获和心得体会（每个人都要写，不少于500字）。

张延冰：在做此次课程设计的时候，我了解了很多操作系统底层的东西。在实现history命令功能的时候，知道了

4.其它需要补充的问题。

六.参考文献
写实验报告用到的参考资料。
